(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{372:function(t,e,r){var content=r(427);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("96af398e",content,!0,{sourceMap:!1})},426:function(t,e,r){"use strict";r(372)},427:function(t,e,r){var o=r(29)((function(i){return i[1]}));o.push([t.i,".fade-enter-active[data-v-8d472bba]{transition:all .3s cubic-bezier(.52,.02,.19,1.02) .15s}.fade-leave-active[data-v-8d472bba]{transition:all .3s cubic-bezier(.52,.02,.19,1.02)}.fade-enter-from[data-v-8d472bba]{opacity:0}.fade-enter-from[data-v-8d472bba],.fade-leave-to[data-v-8d472bba]{transform:scale(.8)}",""]),o.locals={},t.exports=o},474:function(t,e,r){"use strict";r.r(e);r(55),r(36),r(15);var o=r(9),n=(r(43),r(45),r(337),{name:"archives",layout:"admin",data:function(){return{form:{title:"",theme:"",StartDate:"",EndDate:"",videoUrl:"",session_form:"",zoomMeetingUrl:"",programmes:null,status:null},filesLength:null,loading:!1}},methods:{resetForm:function(){this.form.title=null,this.form.theme=null,this.form.EndDate=null,this.form.StartDate=null,this.form.session_form=null,this.form.videoUrl=null,this.form.programmes=null,this.filesLength=null,this.form.status=null,this.form.zoomMeetingUrl=null},goBack:function(){this.$router.go(-1)},handleProgrammeUpload:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.form.programmes=t.target.files,e.filesLength=t.target.files.length;case 2:case"end":return r.stop()}}),r)})))()},handleSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.loading=!0,r=new FormData,e.prev=2,o=0,n=Object.keys(t.form.programmes||[]);o<n.length;o++)i=n[o],r.append("programmes",t.form.programmes[i]);return r.append("title",t.form.title),r.append("theme",t.form.theme),r.append("startDate",t.form.StartDate),r.append("endDate",t.form.EndDate),r.append("zoomMeetingUrl",t.form.zoomMeetingUrl),r.append("session_form",t.form.session_form),r.append("uploadedVideoUrl",t.form.videoUrl),r.append("status",t.form.status),e.next=14,t.$axios.post("https://panafstrag.onrender.com/api/panAfrica/programmes",r);case 14:t.resetForm(),t.$toast.success("Program was successfully created").goAway(1500),t.loading=!1,e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),t.$toast.error(e.t0.response.data.errorMessage).goAway(1500),t.loading=!1;case 23:case"end":return e.stop()}}),e,null,[[2,19]])})))()}}}),l=(r(426),r(12)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("Transition",{attrs:{name:"fade"}},[e("b-container",[e("button",{staticClass:"outline-none mt-2 border bg-gray-200 text-black px-3 py-1 rounded-md text-sm",on:{click:function(e){return t.goBack()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",stroke:"#747070","stroke-width":"2","stroke-linecap":"square","stroke-linejoin":"bevel"}},[e("path",{attrs:{d:"M19 12H6M12 5l-7 7 7 7"}})])]),t._v(" "),e("div",{staticClass:"md:bg-white md:p-7 md:w-9/12 md:shadow-md md:rounded-md md:border lg:mt-4 mb-6 p-3 pb-6 lg:p-6"},[e("form",{staticClass:"space-y-6 w-full",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",[e("label",{staticClass:"text-sm text-gray-400 pb-2",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 resize-none text-sm",attrs:{placeholder:"Describe programme title...",id:"title",rows:"2"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})]),t._v(" "),e("div",[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"theme"}},[t._v("Theme")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.theme,expression:"form.theme"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 resize-none text-sm",attrs:{placeholder:"Describe programme theme...",id:"theme",rows:"2"},domProps:{value:t.form.theme},on:{input:function(e){e.target.composing||t.$set(t.form,"theme",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"md:flex justify-between items-center space-y-7 md:space-y-0 md:space-x-3"},[e("div",{staticClass:"w-full"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"date"}},[t._v("Start date")]),t._v(" "),e("client-only",[e("date-picker",{staticClass:"w-full rounded-lg border outline-none p-3 text-sm",attrs:{placeholder:"Select start date"},model:{value:t.form.StartDate,callback:function(e){t.$set(t.form,"StartDate",e)},expression:"form.StartDate"}})],1)],1),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"date"}},[t._v("End date")]),t._v(" "),e("client-only",[e("date-picker",{staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 text-sm",attrs:{placeholder:"Select end date"},model:{value:t.form.EndDate,callback:function(e){t.$set(t.form,"EndDate",e)},expression:"form.EndDate"}})],1)],1)]),t._v(" "),e("div",{staticClass:"md:flex justify-between items-center space-y-7 md:space-y-0 md:space-x-3"},[e("div",{staticClass:"mb-3 w-full"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"videoUrl"}},[t._v("Video Url")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.videoUrl,expression:"form.videoUrl"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 text-sm",attrs:{type:"text",placeholder:"https://www.youtube.com....",id:"videoUrl"},domProps:{value:t.form.videoUrl},on:{input:function(e){e.target.composing||t.$set(t.form,"videoUrl",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3 w-full"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"programStatus"}},[t._v("Select Program Status")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 text-sm bg-gray-100 px-2",attrs:{name:"programStatus",id:"programStatus"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status",e.target.multiple?r:r[0])}}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("\n                Select program status\n              ")]),t._v(" "),e("option",{attrs:{value:"active"}},[t._v("Active")]),t._v(" "),e("option",{attrs:{value:"pending"}},[t._v("Pending")]),t._v(" "),e("option",{attrs:{value:"completed"}},[t._v("Completed")])])])]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"zoomMeetingUrl"}},[t._v("Zoom Meeting Link")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.zoomMeetingUrl,expression:"form.zoomMeetingUrl"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 text-sm",attrs:{pattern:"https://.*",type:"url",placeholder:"Enter programme zoom meeting url",id:"zoomMeetingUrl"},domProps:{value:t.form.zoomMeetingUrl},on:{input:function(e){e.target.composing||t.$set(t.form,"zoomMeetingUrl",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"text-sm text-gray-400 b-2",attrs:{for:"session_form"}},[t._v("Session Form")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.session_form,expression:"form.session_form"}],staticClass:"w-full rounded-lg border border-gray-200 outline-none p-3 text-sm",attrs:{pattern:"https://.*",type:"url",placeholder:"Enter programme form link..",id:"session_form"},domProps:{value:t.form.session_form},on:{input:function(e){e.target.composing||t.$set(t.form,"session_form",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-center items-center flex-col"},[t.filesLength?e("div",{staticClass:"flex justify-center items-center space-x-2 py-3"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 24 24",fill:"none",stroke:"#e0dada","stroke-width":"1.5","stroke-linecap":"butt","stroke-linejoin":"bevel"}},[e("path",{attrs:{d:"M13 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V9l-7-7z"}}),t._v(" "),e("path",{attrs:{d:"M13 3v6h6"}})]),t._v(" "),e("span",{staticClass:"text-green-500 font-medium text-sm"},[t._v(t._s(t.filesLength)+" has been selected")])]):e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 24 24",fill:"none",stroke:"#e0dada","stroke-width":"1.5","stroke-linecap":"butt","stroke-linejoin":"bevel"}},[e("path",{attrs:{d:"M21.2 15c.7-1.2 1-2.5.7-3.9-.6-2-2.4-3.5-4.4-3.5h-1.2c-.7-3-3.2-5.2-6.2-5.6-3-.3-5.9 1.3-7.3 4-1.2 2.5-1 6.5.5 8.8m8.7-1.6V21"}}),t._v(" "),e("path",{attrs:{d:"M16 16l-4-4-4 4"}})]),t._v(" "),e("input",{staticClass:"hidden",attrs:{multiple:"",accept:"image/*",type:"file",id:"archive"},on:{change:t.handleProgrammeUpload}}),t._v(" "),e("label",{staticClass:"text-indigo-700 text-sm font-medium cursor-pointer",attrs:{for:"archive"}},[t._v("\n            Click to upload progrmmes\n          ")])]),t._v(" "),e("div",{staticClass:"mt-6 md:flex justify-end items-end"},[e("button",{staticClass:"inline-flex items-center justify-center rounded-lg bg-black px-3 py-2 w-full md:w-full lg:w-3/12 text-white",class:[t.loading?"cursor-not-allowed opacity-20":""],attrs:{disabled:t.loading,type:"submit"}},[e("span",{staticClass:"font-medium"},[t._v("\n              "+t._s(t.loading?"processing...":"Continue")+"\n            ")]),t._v(" "),e("svg",{staticClass:"ml-3 h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"}})])])])])])])],1)}),[],!1,null,"8d472bba",null);e.default=component.exports}}]);